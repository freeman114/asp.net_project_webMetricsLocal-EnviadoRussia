@model webMetrics.Models.Metricas
@{
    ViewData["Title"] = "Influencers Inc.";
    ViewData["Page"] = "Metrics";
    Layout = "_LayoutManagement";
    ViewBag.HideMenu = true;

    var faixa1 = 100000;
    var faixa2 = 500000;

    var valor1 = 5.9;
    var valor2 = 5.9;
    var valor0 = 2.1;
}
<section class="container-fluid">
    <div class="container-big">

        <div class="row pt-5">
            <div class="col-12 col-md">
                <div class="influencer-header">
                    @if (Model != null)
                    {
                        var imgProfile = Model.inf.ProfilePicture;
                        <img class="avatar" src="@imgProfile" alt="logo" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'">
                    }

                    <h4>
                        <span class="social-instagram"></span>
                        @Model.inf.NomeCompleto
                    </h4>
                    <p class="text mb-2">@@@Model.inf.UserName</p>
                    <p class="text">@Model.inf.SocialContext</p>
                    @*<p class="email">paulasack@("@")crosspublishers.com.br</p>*@
                </div>
            </div>
            @*<div class="col-12 col-md-1 col-lg-1 text-center">
                    <a class="navbar-brand" href="/relatorios/historicometricas">
                        VOLTAR
                    </a>
                </div>*@
            <div class="col-12 col-md-3 col-lg-2 text-center">
                <h5>Powerfull</h5>
                @{
                    var comentarioscurtidas = Model.inf.Powerful;//Model.MediaCurtidas+Model.inf.MediaComentarios;
                }

                <!-- todo microcard pode alterar a cor pelo [data-cardcolor] = green | red | yellow -->
                <div class="microcard one-line width-auto" data-cardcolor="green">
                    @*<span class="text-big" data-sufix="%">8</span>*@


                    @{
                        var valorPercent = Convert.ToDouble(Model.inf.Powerful) / Convert.ToDouble(Model.inf.Seguidores);
                        var Percent = Math.Round(Convert.ToDouble(valorPercent * 100)).ToString();
                    }
                    @if (Model.inf.Aprovado == 2)
                    {
                        <span onclick="inverter(this);" class="text-big badge badge-success d-block" data-sufix="%">@Percent</span>
                    }
                    else if (Model.inf.Aprovado == 1)
                    {
                        <span onclick="inverter(this);" class="text-big badge badge-warning d-block" data-sufix="%">@Percent</span>
                    }
                    else
                    {
                        <span onclick="inverter(this);" class="text-big badge badge-danger d-block" data-sufix="%">@Percent</span>
                    }
                </div>
            </div>
        </div>

        <div class="row mt-4">

            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Seguidores</h5>
                <span class="value">@Model.inf.Seguidores.ToString("N0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Seguindo</h5>
                <span class="value">@Model.inf.Seguindo.ToString("N0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de engajamento</h5>
                <!-- isso serve para esse tipo de bloco para exibir ao fina uma
                seta para cima [up] ou para baixo [down] -->
                <span class="value" data-eng="up">@Model.inf.Engajamento.ToString("n0")%</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de alcance</h5>
                <!-- isso serve para esse tipo de bloco para exibir ao fina uma
                seta para cima [up] ou para baixo [down] -->
                <span class="value" data-eng="up">@Model.inf.avgPostReach.ToString("n0")</span>
            </div>

            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">
                    Views de perfil
                    <small>@Model.inf.PeriodProfileViews</small>
                </h5>
                <span class="value">@Model.inf.ProfileViews.ToString("N0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">
                    Reach
                    <small>@Model.inf.PeriodReach</small>
                </h5>
                <span class="value">@Model.inf.Reach.ToString("N0")</span>
            </div>
            <div class="col-lg-3 col-md-6 col-6 microcard">
                <h5 class="title">
                    Média de impressões
                    <small>@Model.inf.PeriodImpressions</small>
                </h5>
                <span class="value" data-eng="up">@Model.inf.Impressions.ToString("N0")</span>
            </div>
            <div class="col-lg-3 col-md-6 col-6 microcard">
                <h5 class="title">
                    Audiência / crescimento
                    <small>@ViewBag.GrowthWeekPeriod</small>
                </h5>
                @if (ViewBag.GrowthWeek != "")
                {
                    <span id="GrowthWeek" onclick="inverte('GrowthWeekPercent');" class="value" data-eng="down">@ViewBag.GrowthWeek</span>
                    <span id="GrowthWeekPercent" onclick="inverte('GrowthWeek');" class="value" data-eng="down" style="display: none;">@ViewBag.GrowthWeekPercent</span>
                }
            </div>

            @*<div class="col-lg-3 col-md-3 col-6 microcard">
                <h5 class="title">
                    Phantom followers
                </h5>
                <span class="value">0</span>
            </div>
            <div class="col-lg-3 col-md-3 col-6 microcard">
                <h5 class="title">
                    Phantom likes
                </h5>
                <span class="value">0</span>
            </div>
            <div class="col-lg-6 col-md-6 col-12 microcard">
                <h5 class="title">
                    Automatic or change comments
                </h5>
                <span class="value">0</span>
            </div>*@
        </div>
        <!--- end row -->

        <h1 class="font-black pt-3 mt-5 mb-3  text-center">
            Sumário
        </h1>
        <div class="row mt-1">

            @*<div class="col-12 col-md-8 col-lg-6 offset-lg-3 order-md-1 order-2 microcard title-inline">
                <h5 class="title">
                    Qualidade da Audiência:
                    <span class="value">69,3k</span>
                </h5>
            </div>*@
            <div class="col-12 col-md-4 col-lg-3 order-md-2 order-1  d-flex align-items-center justify-content-md-end justify-content-center">
                <button title="" class="btn btn-light-blue shadow-none m-0 text-nowrap em-contrucao">
                    <i class="fas fa-cloud-download-alt"></i>
                    download pdf
                </button>
            </div>
        </div>

        <div class="row mt-0">
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de Stories</h5>
                <span class="value">@ViewBag.MediaStories</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Vídeos nos Stories</h5>
                <span class="value" data-sufix="%">@ViewBag.mediaStoryVideo.ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Fotos nos Stories</h5>
                <span class="value" data-sufix="%">@ViewBag.mediaStoryImage.ToString("n0")</span>
            </div>

            <a id="btnModalCliqueParaInfo" class="col-lg-3 col-md-4 col-6 microcard btn-microcard text-decoration-none">
                <i class="fas fa-question-circle font-yellow"></i>
                <h5 class="title">Clique para informações</h5>
            </a>

            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Posts</h5>
                <span class="value">@Model.inf.Posts</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de posts por dia</h5>
                <span class="value">@string.Format("{0:N}", (Model.inf.Posts / 30.25))</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de posts por semana</h5>
                <span class="value">@string.Format("{0:N}", (Model.inf.Posts / 4.25))</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de posts por mês</h5>
                <span class="value">@Model.inf.Posts.ToString("n0")</span>
            </div>

            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Total de likes</h5>
                <span class="value">@Model.inf.Curtidas.ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de likes por post</h5>
                <span class="value">@Math.Round(Model.inf.MediaCurtidas, 4).ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Total de comentários</h5>
                <span class="value">@ViewBag.infComentariosTotal.ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Média de comentários por post</h5>
                <span class="value">@Math.Round(Model.inf.MediaComentarios, 4).ToString("n0")</span>
            </div>

            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Seguindo / Seguidores</h5>
                <span class="value">@Math.Round(Model.inf.SeguindoSeguidores, 4)</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Interações por Stories</h5>
                <span class="value">@ViewBag.infRepliesTotal.ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Vídeos no Feed</h5>
                <span class="value" data-sufix="%">@ViewBag.mediaMidiasVideo.ToString("n0")</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">Fotos no Feed</h5>
                <span class="value" data-sufix="%">@ViewBag.mediaMidiasImage.ToString("n0")</span>
            </div>


            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">
                    Seguidores homens
                </h5>
                <span class="value" data-sufix="%">@ViewBag.PercentM</span>
            </div>
            <div class="col-lg-3 col-md-4 col-6 microcard">
                <h5 class="title">
                    Seguidores mulheres
                </h5>
                <span class="value" data-sufix="%">@ViewBag.PercentF</span>
            </div>
            <div class="col-lg-6 col-md-12 col-12 microcard">
                <h5 class="title">
                    Top Cidade / Estado
                </h5>
                <span class="value" data-sufix="">@ViewBag.PercentCities</span>
            </div>

        </div>
        <div class="row justify-content-center metrics-btn-footer">

            <div class="col-12 col-md d-flex align-items-center justify-content-center order-1">
                <a class="btn btn-yellow btn-medium limit-w100 my-2 my-md-4" href="/News/SocialStalker">
                    Social stalker listening
                </a>
            </div>

            <div class="col-12 col-md d-flex align-items-center justify-content-center order-2 order-lg-3">
                <a class="btn btn-yellow btn-medium limit-w100 my-2 my-md-4" href="/News/DisasterCheck">
                    Disaster check
                </a>
            </div>

            <div class="col-12 col-md-12 col-lg d-flex align-items-center justify-content-center order-3 order-lg-2">
                <a href="/News/MidiaKit?key=@ViewBag.IdPage" title="" role="button" class="btn btn-big btn-gradient-blue btn-text-bold btn-full limit-w100 my-4 py-4"> Ver mídia Kit </a>
            </div>
        </div>
    </div>
</section>

<section class="">
    @if (Model != null)
    {
        if (Model.inf.LstTopAndBotton != null && (Model.inf.LstTopAndBotton.Count() > 0))
        {
            <div class="container-fluid">
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    melhor e pior post
                </h1>
            </div>
            <div class="type-table striped-row-invert no-sticky basic-metrics">
                <div class="table-header">
                    <div class="row container-big">
                        <div class="col">
                            Post
                        </div>
                        <div class="col">
                            Impressions
                        </div>
                        <div class="col">
                            Reach
                        </div>
                        <div class="col">
                            Engagement
                        </div>
                        <div class="col">
                            Saved
                        </div>
                        <div class="col">
                            Engagement %
                        </div>
                    </div>
                </div>

                @foreach (var item in Model.inf.LstTopAndBotton)
                {
                    <div>
                        <div class="row container-big">
                            <div class="col mini-posts">
                                <div class="img-content">

                                    @if (item.Imagens != null)
                                    {
                                        foreach (var itImagens in item.Imagens)
                                        {
                                            <img onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" class="" alt="" src="@Html.DisplayFor(modelItem => itImagens)">
                                        }
                                    }
                                </div>
                                <div class="text comment">@Html.DisplayFor(modelItem => item.UserName)</div>
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Impressions)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Reachs)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Engagements)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Saveds)
                            </div>
                            <div class="col">
                                @{
                                    var engaj = Math.Round((Convert.ToDouble(item.Reach) / Convert.ToDouble(Model.inf.Seguidores)) * 100, 4);
                                }
                                @if (Convert.ToDouble(engaj) < (Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0)))
                                {
                                    <div class="microcard one-line" data-cardcolor="red">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                                else
                                {
                                    <div class="microcard one-line" data-cardcolor="green">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                }

            </div>
        }
    }

    <!--- #### --->
    @if (Model.inf.LstInstaMentions != null)
    {
        <div class="container-fluid">
            <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                Marcas mencionadas e influenciadores por menção
            </h1>
        </div>
        <div class="type-table striped-row-invert no-sticky basic-metrics">
            <div class="table-header">
                <div class="row container-big">
                    <div class="col">
                        Mention
                    </div>
                    <div class="col">
                        Impressions
                    </div>
                    <div class="col">
                        Reach
                    </div>
                    <div class="col">
                        Engagement
                    </div>
                    <div class="col">
                        Saved
                    </div>
                    <div class="col">
                        Engagement %
                    </div>
                </div>
            </div>

            @foreach (var item in Model.inf.LstInstaMentions)
            {
                <div>
                    <div class="row container-big">
                        <div class="col mini-posts">
                            <div class="img-content">
                                @if (item.Imagens != null)
                                {
                                    foreach (var itImagens in item.Imagens)
                                    {
                                        <img class="" alt="" src="@Html.DisplayFor(modelItem => itImagens)" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'">
                                    }
                                }
                            </div>
                            <div class="text">
                                @@@Html.DisplayFor(modelItem => item.UserName)
                            </div>
                        </div>
                        <div class="col">
                            @Html.DisplayFor(modelItem => item.Impressions)
                        </div>
                        <div class="col">
                            @Html.DisplayFor(modelItem => item.Reachs)
                        </div>
                        <div class="col">
                            @Html.DisplayFor(modelItem => item.Engagements)
                        </div>
                        <div class="col">
                            @Html.DisplayFor(modelItem => item.Saveds)
                        </div>
                        <div class="col">
                            @{
                                var engaj =
                                Math.Round((
                                Convert.ToDouble(item.Reach) /
                                Convert.ToDouble(Model.inf.Seguidores)
                                ) * 100, 4);
                            }
                            @if (Convert.ToDouble(engaj) <
(Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0))
)
                            {
                                <div class="microcard one-line" data-cardcolor="red">
                                    <span data-sufix="%">@Html.Raw(engaj)</span>
                                </div>
                            }
                            else
                            {
                                <div class="microcard one-line" data-cardcolor="green">
                                    <span data-sufix="%">@Html.Raw(engaj)</span>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            }

        </div>
    }


    @*- #### -*@

    @if (Model != null)
    {
        if (Model.inf.LstInstaHashs != null && (Model.inf.LstInstaHashs.Count() > 0))
        {
            <div class="container-fluid">
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    hashtags
                </h1>
            </div>
            <div class="type-table striped-row-invert no-sticky basic-metrics">

                <div class="table-header">
                    <div class="row container-big">
                        <div class="col">
                            Mention
                        </div>
                        <div class="col">
                            Impressions
                        </div>
                        <div class="col">
                            Reach
                        </div>
                        <div class="col">
                            Engagement
                        </div>
                        <div class="col">
                            Saved
                        </div>
                        <div class="col">
                            Engagement %
                        </div>
                    </div>
                </div>

                @*<div>
                        <div class="row container-big">
                            <div class="col mini-posts">
                                <div class="img-content">
                                    <img class="" alt="" src="~/content/img/testes/img6.jpg">
                                </div>
                                <div class="text">
                                    @("@")iangebarvaz
                                </div>
                            </div>
                            <div class="col">
                                6.094
                            </div>
                            <div class="col">
                                3.455
                            </div>
                            <div class="col">
                                298
                            </div>
                            <div class="col">
                                4
                            </div>
                            <div class="col">
                                <div class="microcard one-line" data-cardcolor="red">
                                    <span data-sufix="%">0,5215</span>
                                </div>
                            </div>
                        </div>
                    </div>*@
                @foreach (var item in Model.inf.LstInstaHashs)
                {

                    <div>
                        <div class="row container-big">
                            <div class="col mini-posts">
                                <div class="img-content">
                                    @if (item.Imagens != null)
                                    {
                                        foreach (var itImagens in item.Imagens)
                                        {
                                            <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="@Html.DisplayFor(modelItem => itImagens)">
                                        }
                                    }
                                </div>
                                <div class="text">
                                    #@Html.DisplayFor(modelItem => item.UserName)
                                </div>
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Impressions)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Reachs)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Engagements)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Saveds)
                            </div>
                            <div class="col">
                                @{
                                    var engaj = Math.Round((Convert.ToDouble(item.Reach) / Convert.ToDouble(Model.inf.Seguidores)) * 100, 4);
                                }
                                @if (Convert.ToDouble(engaj) < (Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0)))
                                {
                                    <div class="microcard one-line" data-cardcolor="red">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                                else
                                {
                                    <div class="microcard one-line" data-cardcolor="green">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>

                }
            </div>
        }
    }

    <!--- #### --->

    @if (Model != null)
    {
        if (Model.inf.LstInstaMidias != null && (Model.inf.LstInstaMidias.Count() > 0))
        {
            <div class="container-fluid">
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    Mídia recente
                </h1>
            </div>
            <div class="type-table striped-row-invert no-sticky basic-metrics">
                <div class="table-header">
                    <div class="row container-big">
                        <div class="col">
                            Post
                        </div>
                        <div class="col">
                            Impressions
                        </div>
                        <div class="col">
                            Reach
                        </div>
                        <div class="col">
                            Engagement
                        </div>
                        <div class="col">
                            Saved
                        </div>
                        <div class="col">
                            Engagement %
                        </div>
                    </div>
                </div>

                @foreach (var item in Model.inf.LstInstaMidias)
                {
                    <div>
                        <div class="row container-big">
                            <div class="col mini-posts">
                                <div class="img-content">
                                    @if (item.Imagens != null)
                                    {
                                        foreach (var itImagens in item.Imagens)
                                        {
                                            <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="@Html.DisplayFor(modelItem => itImagens)">
                                        }
                                    }
                                </div>
                                <div class="text comment">
                                    @Html.DisplayFor(modelItem => item.UserName)
                                </div>
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Impressions)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Reachs)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Engagements)
                            </div>
                            <div class="col">
                                @Html.DisplayFor(modelItem => item.Saveds)
                            </div>
                            <div class="col">
                                @{
                                    var engaj = Math.Round((Convert.ToDouble(item.Reach) / Convert.ToDouble(Model.inf.Seguidores)) * 100, 4);
                                }
                                @if (Convert.ToDouble(engaj) < (Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0)))
                                {
                                    <div class="microcard one-line" data-cardcolor="red">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                                else
                                {
                                    <div class="microcard one-line" data-cardcolor="green">
                                        <span data-sufix="%">@Html.Raw(engaj)</span>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                }


            </div>
        }
    }

</section>

@if (Model != null)
{
    if (Model.inf.LstInstaStory != null)
    {
        <section class="container-fluid">
            <div class="container-big">
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    Stories
                </h1>

                <div class="row mt-4">
                    @foreach (var item in Model.inf.LstInstaStory.Take(12))
                    {

                        <div class="col-lg-4 col-md-6 col-12 microcard mini-posts stories">
                            <div class="row">
                                <h5 class="col-12 title" data-prefix="Date:">
                                    @Html.DisplayFor(modelItem => item.Date)
                                </h5>
                            </div>
                            <div class="row">
                                <div class="col-12 col-lg">

                                    @if (item.Imagens != null)
                                    {
                                        foreach (var itImagens in item.Imagens)
                                        {
                                            <a class="nav-link text-muted px-0  img-content" href="javascript:getImage('@Html.DisplayFor(modelItem => itImagens)','@Html.DisplayFor(modelItem => item.Id)');">
                                                @if (itImagens.Contains("VIDEO.jpg"))
                                                {
                                                    <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="/images/VIDEO.jpg">
                                                }
                                                else
                                                {
                                                    <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="@itImagens">
                                                }
                                            </a>
                                        }
                                    }
                                </div>
                                <div class="col-12 col-lg-auto descriptions">
                                    <p data-prefix="Exits:">@Html.DisplayFor(modelItem => item.ExitsValue)</p>
                                    <p data-prefix="Impressions:">@Html.DisplayFor(modelItem => item.ImpressionsValue)</p>
                                    <p data-prefix="Replies:">@Html.DisplayFor(modelItem => item.RepliesValue)</p>
                                    <p data-prefix="Tap Back:">@Html.DisplayFor(modelItem => item.TapsBackValue)</p>
                                    <p data-prefix="Tap Forward:">@Html.DisplayFor(modelItem => item.TapsForwardValue)</p>
                                    <div class="microcard one-line " data-cardcolor="yellow">
                                        <span data-prefix="Engagement:">@Html.DisplayFor(modelItem => item.ReachValue)</span>
                                    </div>
                                    @{
                                        var engaj = Math.Round((Convert.ToDouble(item.ReachValue) / Convert.ToDouble(Model.inf.Seguidores)) * 100, 4);
                                    }
                                    @*@if (Convert.ToDouble(engaj) < (Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0)))*@
                                    @if (engaj < 1.4d)
                                    {
                                        <div class="microcard one-line" data-cardcolor="red">
                                            <span data-sufix="%">@Html.Raw(engaj)</span>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="microcard one-line" data-cardcolor="green">
                                            <span data-sufix="%">@Html.Raw(engaj)</span>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                </div>
                @if (Model.inf.LstInstaStory.Count > 12)
                {
                    <div id="btnMoreStories" class="row justify-content-center py-4">
                        <a title="Mais influenciadores" class="btn btn-text-big btn-yellow btn-full-auto  py-md-4 py-3">
                            Ver mais stories
                        </a>
                    </div>
                }
                <div id="moreStories" class="row mt-4" style="display: none;">
                    @foreach (var item in Model.inf.LstInstaStory.Skip(12))
                    {

                        <div class="col-lg-4 col-md-6 col-12 microcard mini-posts stories">
                            <div class="row">
                                <h5 class="col-12 title" data-prefix="Date:">
                                    @Html.DisplayFor(modelItem => item.Date)
                                </h5>
                            </div>
                            <div class="row">
                                <div class="col-12 col-lg">

                                    @if (item.Imagens != null)
                                    {
                                        foreach (var itImagens in item.Imagens)
                                        {
                                            <a class="nav-link text-muted px-0  img-content" href="javascript:getImage('@Html.DisplayFor(modelItem => itImagens)','@Html.DisplayFor(modelItem => item.Id)');">
                                                @if (itImagens.Contains("VIDEO.jpg"))
                                                {
                                                    <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="/images/VIDEO.jpg">
                                                }
                                                else
                                                {
                                                    <img class="" alt="" onerror="this.onerror=null;this.src='/images/no-photo-icon.jpg'" src="@itImagens">
                                                }
                                            </a>
                                        }
                                    }
                                </div>
                                <div class="col-12 col-lg-auto descriptions">
                                    <p data-prefix="Exits:">@Html.DisplayFor(modelItem => item.ExitsValue)</p>
                                    <p data-prefix="Impressions:">>@Html.DisplayFor(modelItem => item.ImpressionsValue)</p>
                                    <p data-prefix="Replies:">@Html.DisplayFor(modelItem => item.RepliesValue)</p>
                                    <p data-prefix="Tap Back:">@Html.DisplayFor(modelItem => item.TapsBackValue)</p>
                                    <p data-prefix="Tap Forward:">@Html.DisplayFor(modelItem => item.TapsForwardValue)</p>
                                    <div class="microcard one-line " data-cardcolor="yellow">
                                        <span data-prefix="Engagement:">@Html.DisplayFor(modelItem => item.ReachValue)</span>
                                    </div>
                                    @{
                                        var engaj = Math.Round((Convert.ToDouble(item.ReachValue) / Convert.ToDouble(Model.inf.Seguidores)) * 100, 4);
                                    }
                                    @*@if (Convert.ToDouble(engaj) < (Model.inf.Seguidores < faixa1 ? valor1 : (Model.inf.Seguidores < faixa2 ? valor2 : valor0)))*@
                                    @if (engaj < 1.4d)
                                    {
                                        <div class="microcard one-line" data-cardcolor="red">
                                            <span data-sufix="%">@Html.Raw(engaj)</span>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="microcard one-line" data-cardcolor="green">
                                            <span data-sufix="%">@Html.Raw(engaj)</span>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    }
                </div>

                @*<div class="row justify-content-center py-4">
                        <a title="Mais influenciadores" class="btn btn-text-big btn-yellow btn-full-auto  py-md-4 py-3">
                            Ver mais stories
                        </a>
                    </div>*@

            </div>
        </section>
    }
}

@if (Model != null)
{
    if (ViewBag.GrowthData != "[]")
    {
        <section class="container-fluid">
            <div class="container-big">
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    Crescimento de seguidores
                </h1>

                <div class="microcard shadow-soft chart-box container-1480">
                    <!-- não sei o q esse btn deveria fazer... -->
                    <a title="" class="btn btn-clear btn-white-outline btn-square btn-shadow-none float-icon-right">
                        <i class="fas fa-bars"></i>
                    </a>
                    <!-- <h5 class="title d-inline-block mx-5 mt-0 mb-3">
                        You stories reach the most followers when you post on <span class="font-bold"> WEDNESDAY </span> at <span class="font-bold"> 12h </span>
                    </h5> -->
                    <!-- script no final desta pagina  -->
                    <div id="containerGrowth" class="echarts"></div>
                </div>
            </div>
        </section>
    }
}

@if ("a" == "a")
{
    <section class="container-fluid">
        <div class="container-big">
            @if (ViewBag.BestHourChartData != null)
            {
                <h1 class="font-black pt-3 mt-5 mb-3  text-center">
                    melhor horário para postar - alcance
                </h1>
                <div class="microcard shadow-soft chart-box container-1480">
                    <a title="" class="btn btn-clear btn-white-outline btn-square btn-shadow-none float-icon-right">
                        <i class="fas fa-bars"></i>
                    </a>
                    <h5 class="title d-inline-block mx-5 mt-0 mb-3">
                        You stories reach the most followers when you post on <span class="font-bold"> @ViewBag.BestDay </span> at <span class="font-bold"> @ViewBag.BestTime h </span>
                    </h5>
                    <div class="time-chart">
                        <div class="weekdays">
                            <p>Domingo</p>
                            <p>Segunda</p>
                            <p>Terça</p>
                            <p>Quarta</p>
                            <p>Quinta</p>
                            <p>Sexta</p>
                            <p>Sabado</p>
                        </div>
                        <div class="chart-content">
                            <div class="results">
                                @foreach (var item in ViewBag.BestHourChartData)
                                {
                                    <span data-week="@item[0]" data-hour="@item[1]" data-value="@item[2]"></span>
                                }
                            </div>
                            <div class="clock" data-type-horario="24">
                                <span data-24h="00" data-12h="12"></span>
                                <span data-24h="01" data-12h="01"></span>
                                <span data-24h="02" data-12h="02"></span>
                                <span data-24h="03" data-12h="03"></span>
                                <span data-24h="04" data-12h="04"></span>
                                <span data-24h="05" data-12h="05"></span>
                                <span data-24h="06" data-12h="06"></span>
                                <span data-24h="07" data-12h="07"></span>
                                <span data-24h="08" data-12h="08"></span>
                                <span data-24h="09" data-12h="09"></span>
                                <span data-24h="10" data-12h="10"></span>
                                <span data-24h="11" data-12h="11"></span>
                                <span data-24h="12" data-12h="12"></span>
                                <span data-24h="13" data-12h="01"></span>
                                <span data-24h="14" data-12h="02"></span>
                                <span data-24h="15" data-12h="03"></span>
                                <span data-24h="16" data-12h="04"></span>
                                <span data-24h="17" data-12h="05"></span>
                                <span data-24h="18" data-12h="06"></span>
                                <span data-24h="19" data-12h="07"></span>
                                <span data-24h="20" data-12h="08"></span>
                                <span data-24h="21" data-12h="09"></span>
                                <span data-24h="22" data-12h="10"></span>
                                <span data-24h="23" data-12h="11"></span>
                            </div>
                        </div>


                    </div>
                    <div class="legenda legenda-heat">

                        <div class="row">
                            <div class="col-12">
                                <p class="font-bold">Reach</p>
                            </div>
                            <div class="col-12 heat-gradient">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                0
                            </div>
                            <div class="col">
                                25
                            </div>
                            <div class="col">
                                50
                            </div>
                            <div class="col">
                                75
                            </div>
                            <div class="col">
                                100
                            </div>
                            <div class="col">
                                125
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </section>
}

<section class="container-fluid">
    <div class="container-big audit-bars">
        <h1 class="font-black pt-3 mt-5 mb-3  text-center">
            Audiência
        </h1>

        @if (Model != null)
        {
            @if (Model.inf.LstCities != null && (Model.inf.LstCities.Count != 0))
            {
                <!-- regiões -->
                <div class="custom-tabs pt-4 pb-5">
                    <nav>
                        <div class="nav nav-tabs">
                            <a class="nav-item nav-link active" data-toggle="tab" href="#nav-r1">
                                Cidade
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-r2">
                                País
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-r3">
                                idioma
                            </a>
                        </div>
                    </nav>
                    <div class="tab-content container-1366 tab-region mb-4">
                        <div class="tab-pane fade show active" id="nav-r1">

                            <div class="row header-audits">
                                <div class="col col-sm-4 col-md-3">
                                    <p><small>Cidade</small></p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p><small>%</small></p>
                                </div>
                                <div class="col-12 col-sm d-none d-sm-flex"></div>
                            </div>

                            @foreach (var item in Model.inf.LstCities)
                            {
                                <!-- bloco de dados -->
                                <div class="row mb-4 mb-sm-0">
                                    <div class="col col-sm-4 col-md-3">
                                        <p>@Html.DisplayFor(modelItem => item.UserName)</p>
                                    </div>
                                    <div class="col-auto col-sm-1">
                                        <p>@Html.DisplayFor(modelItem => item.Reach)</p>
                                    </div>
                                    @{
                                        var engaj = Math.Round(item.Engagemer, 4);
                                    }
                                    <div class="col-12 col-sm">
                                        <div class="progress-container value-out">
                                            <!-- o [data-value] mostra o valor e o tamanho tem que ser setado no style="width: 000 %"-->
                                            <div class="bar graph-1" style="width: @engaj.ToString("N1", System.Globalization.CultureInfo.InvariantCulture).Replace(",", ".")%" data-value="@Html.Raw(engaj) %"></div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>

                        <div class="tab-pane fade" id="nav-r2">
                            <div class="row header-audits">
                                <div class="col col-sm-4 col-md-3">
                                    <p><small>País</small></p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p><small>%</small></p>
                                </div>
                                <div class="col-12 col-sm d-none d-sm-flex"></div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Brasil</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Estados Unidos</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="nav-r3">
                            <div class="row header-audits">
                                <div class="col col-sm-4 col-md-3">
                                    <p><small>Idioma</small></p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p><small>%</small></p>
                                </div>
                                <div class="col-12 col-sm d-none d-sm-flex"></div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Portugues - Brasil</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Portugues - Portugal</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Ingles</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            }

            if (Model.inf.LstAge != null && (Model.inf.LstAge.Count != 0))
            {
                <!-- pessoas - genero/idade/etnia... -->
                <div class="custom-tabs pt-4 pb-5">
                    <nav>
                        <div class="nav nav-tabs">
                            <a class="nav-item nav-link active" data-toggle="tab" href="#nav-p1">
                                idade e gênero
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-p2">
                                etnia
                            </a>
                        </div>
                    </nav>
                    <div class="tab-content container-1366 tab-people my-4">
                        <div class="tab-pane fade show active" id="nav-p1">

                            <div class="row header-audits">
                                <div class="col col-sm-4 col-md-3">
                                    <p><small>Idade</small></p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p><small>%</small></p>
                                </div>
                                <div class="col-12 col-sm d-none d-sm-flex"></div>
                            </div>
                            @{
                                var grouped = Model.inf.LstAge
                                    .OrderBy(a => a.UserName.Substring(2))
                                    .GroupBy(a => new
                                    {
                                        age = a.UserName.Substring(2)
                                    })
                                    .Select(a =>
                                    {
                                        var m = a.FirstOrDefault(b => b.UserName.StartsWith("M"));
                                        var f = a.FirstOrDefault(b => b.UserName.StartsWith("F"));
                                        return new
                                        {
                                            Age = a.Key.age.Contains("-") ? "De " + a.Key.age.Replace("-", " à ") : a.Key.age.Replace("+", " ou mais"),
                                            MaleEngajemer = m == null ? 0 : Math.Round(m.Engagemer, 4),
                                            MaleEngajemerPercent = m == null ? "0" : Math.Round(m.Engagemer, 4).ToString("N2", System.Globalization.CultureInfo.InvariantCulture).Replace(",", "."),
                                            MaleReach = m == null ? "0" : m.Reach.ToString("N0"),
                                            FemaleEngajemer = f == null ? 0 : Math.Round(f.Engagemer, 4),
                                            FemaleEngajemerPercent = f == null ? "0" : Math.Round(f.Engagemer, 4).ToString("N2", System.Globalization.CultureInfo.InvariantCulture).Replace(",", "."),
                                            FemaleReach = f == null ? "0" : f.Reach.ToString("N0"),
                                            PercentAll = f == null || m == null ? "0" : Math.Round(((f.Engagemer + m.Engagemer) * 0.5d), 4).ToString("N2", System.Globalization.CultureInfo.InvariantCulture).Replace(",", ".")
                                        };
                                    }).ToList();

                                @foreach (var item in grouped)
                                {
                                    <div class="row mb-4 mb-sm-0">
                                        <div class="col col-sm-4 col-md-3">
                                            <p>@item.Age</p>
                                        </div>
                                        <div class="col-auto col-sm-1">
                                            <p>@item.PercentAll%</p>
                                        </div>
                                        <div class="col-12 col-sm">
                                            <div class="progress-container value-out multi-progress">
                                                <div class="bar graph-1" style="width: @item.MaleEngajemerPercent%" data-value="@item.MaleReach"></div>
                                                <div class="bar graph-8" style="width: @item.FemaleEngajemerPercent%" data-value="@item.FemaleReach"></div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }

                            @*@foreach (var item in Model.inf.LstAge)
                                {
                                    var isMale = item.UserName.StartsWith("M");
                                    var engaj = Math.Round(item.Engagemer, 4);
                                    var engajPercent = engaj.ToString("N1", System.Globalization.CultureInfo.InvariantCulture).Replace(",", ".");
                                    <div class="row mb-4 mb-sm-0">
                                        <div class="col col-sm-4 col-md-3">
                                            <p>@Html.DisplayFor(modelItem => item.UserName)</p>
                                        </div>
                                        <div class="col-auto col-sm-1">
                                            <p>@Html.DisplayFor(modelItem => item.Reach)</p>
                                        </div>
                                        <div class="col-12 col-sm">
                                            <div class="progress-container value-out multi-progress">
                                                @if (isMale)
                                                {
                                                    <div class="bar graph-1" style="width: @engajPercent%" data-value="@Html.Raw(engaj) %"></div>
                                                }
                                                else
                                                {
                                                    <div class="bar graph-8" style="width: @engajPercent%" data-value="@Html.Raw(engaj) %"></div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                }*@
                            <div class="legenda legenda-circle mt-4">

                                <div class="row">
                                    <div class="col-auto px-3">
                                        <span class="circle graph-1"></span>
                                        Male
                                    </div>
                                    <div class="col-auto px-3">
                                        <span class="circle graph-8"></span>
                                        Female
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="tab-pane fade" id="nav-p2">

                            <div class="row header-audits">
                                <div class="col col-sm-4 col-md-3">
                                    <p><small>Etnia</small></p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p><small>%</small></p>
                                </div>
                                <div class="col-12 col-sm d-none d-sm-flex"></div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Brancos</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out multi-progress">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Negros</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out multi-progress">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Indígenas</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out multi-progress">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Pardos</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out multi-progress">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-4 mb-sm-0">
                                <div class="col col-sm-4 col-md-3">
                                    <p>Mulatos</p>
                                </div>
                                <div class="col-auto col-sm-1">
                                    <p>0%</p>
                                </div>
                                <div class="col-12 col-sm">
                                    <div class="progress-container value-out multi-progress">
                                        <div class="bar graph-1" style="width: 1%" data-value="0"></div>
                                    </div>
                                </div>
                            </div>



                            <div class="legenda legenda-circle mt-4">

                            </div>

                        </div>


                    </div>
                </div>
            }
        }
        <!--tipos -->
        <h3 class="font-light-blue font-300 pt-3 mt-4 mb-3 text-center">
            tipo de audiencia
        </h3>
        <div class="container-1366  mb-5 pb-5 tab-content">
            <div class="row header-audits">
                <div class="col col-sm-4 col-md-3">
                    <p><small>Tipo de seguidor</small></p>
                </div>
                <div class="col-auto col-sm-1">
                    <p><small>%</small></p>
                </div>
                <div class="col-12 col-sm d-none d-sm-flex"></div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Pessoas reais</p>
                </div>
                <div class="col-auto col-sm-1">
                    <p>@ViewBag.PercReais%</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-out">
                        <div class="bar graph-1" style="width: @ViewBag.PercReais%" data-value="@ViewBag.PercReaisTotal.ToString("n2")"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Influenciadores</p>
                </div>
                <div class="col-auto col-sm-1">
                    <p>@ViewBag.PercInflu%</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-out">
                        <div class="bar bg-green" style="width: @ViewBag.PercInflu%" data-value="@ViewBag.PercInfluTotal.ToString("n2")"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Mass followers</p>
                </div>
                <div class="col-auto col-sm-1">
                    <p>@ViewBag.PercMass%</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-out">
                        <div class="bar bg-yellow" style="width: @ViewBag.PercMass%" data-value="@ViewBag.PercMassTotal.ToString("n2")"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Contas suspeitas</p>
                </div>
                <div class="col-auto col-sm-1">
                    <p>@ViewBag.PercSusp%</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-out">
                        <div class="bar bg-red" style="width: @ViewBag.PercSusp%" data-value="@ViewBag.PercSuspTotal.ToString("n2")"></div>
                    </div>
                </div>
            </div>
        </div>


        <!-- interesses -->
        <h3 class="font-light-blue font-300 pt-4 mt-5 mb-3 text-center">
            Interesses de audiência
        </h3>
        <p class="h4 text-center text-initial font-300 mt-2 mb-lg-5">A audiência de @@@Model.inf.NomeCompleto tem interesse em:</p>
        <div class="container-1366 mb-5 tab-content">
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Esportes</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Fitness & Yoga</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Beleza & Moda</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Lifestyle</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Filmes & TV</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Viagem & Turismo</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Música</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Fotografia</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Livros & Literatura</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
            <div class="row mb-4 mb-sm-0">
                <div class="col col-sm-4 col-md-3">
                    <p>Fotografia</p>
                </div>
                <div class="col-12 col-sm">
                    <div class="progress-container value-in bg-black">
                        <div class="bar graph-1" style="width: 1%" data-value="0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 microcard justify-content-start">
                <i class="fas fa-info-circle font-yellow float-icon-right"></i>
                <h5 class="title h-auto px-5 pt-sm-1 pt-md-3 mb-2">Alcance da Audiência</h5>
                <span class="value">
                    <span class="circle light-signal mr-0" data-signal="3"></span>
                    Médio
                </span>
                <p class="m-3">
                    <small class="my-0 d-block">
                        <span class="font-bold">0,0%</span> da audiência de @@@Model.inf.NomeCompleto tem menos de <span class="font-bold">0</span> seguidores.
                    </small>
                    <small class="my-0 d-block">
                        Contas similares tem em média <span class="font-bold">0,0%</span>
                    </small>
                </p>
            </div>
            <div class="col-sm-6 microcard justify-content-start">
                <i class="fas fa-info-circle font-yellow float-icon-right"></i>
                <h5 class="title h-auto px-5 pt-sm-1 pt-md-3 mb-2">Autenticidade da Audiência</h5>
                <span class="value">
                    <span class="circle light-signal mr-0" data-signal="2"></span>
                    Precisa melhorar
                </span>
                <p class="m-3">
                    <small class="my-0 d-block">
                        <span class="font-bold">0,0%</span> da audiência parece ser autência.
                    </small>
                    <small class="my-0 d-block">
                        Contas similares tem em média <span class="font-bold">0,0%</span> de audiência autêntica.
                    </small>
                </p>
            </div>
        </div>

    </div>
</section>

<section class="container-fluid mb-5">
    <!-- o MB-5 esta ai para gerar o espaço que é padrão no dash, pois a master deveria ser outra -->
    <div class="container-big price-estimate">
        <h1 class="font-black pt-3 mt-5 mb-3  text-center">
            Estimativa de preço de posts
            <i class="fas fa-info-circle font-yellow text-super"></i>
        </h1>
        <div class="row">
            <div class="col-md-6 microcard">
                <h5 class="title h-auto px-5 pt-sm-1 pt-md-3 mb-2">
                    A estimativa de preços para posts de @@@Model.inf.NomeCompleto é
                </h5>
                <span class="value py-4">
                    De R$ 300 à R$ 700
                </span>
            </div>
            <div class="col-md-6 microcard">
                <h5 class="title h-auto px-5 pt-sm-1 pt-md-3 mb-2">
                    Você acha relevante o preço estimado para os posts de @@@Model.inf.NomeCompleto?
                </h5>
                <div class="row value justify-content-center row-buttons">
                    <button title="" class="btn btn-light-blue expanded-btn shadow-none em-contrucao"> sim </button>
                    <button title="" class="btn btn-secondary expanded-btn shadow-none em-contrucao" data-toggle="collapse" href=".other-values" role="button" aria-expanded="false"> não </button>
                </div>
            </div>
            <div class="other-values box-values collapse col-md-6 offset-md-6 px-0">
                <div class="microcard">
                    <h5 class="title h-auto px-5 pt-sm-1 pt-md-3 mb-4">
                        Você quer indicar um preço para os posts de @@@Model.inf.NomeCompleto?
                    </h5>
                    <div class="row value justify-content-center row-buttons">
                        <button title="" class="btn btn-light-blue expanded-btn shadow-none em-contrucao" data-toggle="collapse" href=".new-values" role="button" aria-expanded="false"> sim </button>
                        <button title="" class="btn btn-secondary expanded-btn shadow-none em-contrucao" data-toggle="collapse" href=".other-values" role="button" aria-expanded="true"> não </button>
                    </div>
                </div>
                <div class="new-values box-values collapse">
                    <div class="microcard">
                        <h5 class="title h-auto px-5 pt-sm-1 pt-md-3">
                            Por favor, indique abaixo os valores:
                        </h5>
                        <div class="row value mb-4 mx-auto" style="max-width: 552px">
                            <div class="col-sm-6">
                                <input type="text" class="input-gray w-100 mx-0 my-2" placeholder="Preço do post">
                            </div>
                            <div class="col-sm-6">
                                <input type="text" class="input-gray w-100 mx-0 my-2" placeholder="Preço do story">
                            </div>
                        </div>
                        <div class="row justify-content-center row-buttons">
                            <button href="#" title="" role="button" class="btn btn-light-blue expanded-btn shadow-none em-contrucao"> enviar </button>
                            <button title="" class="btn btn-secondary expanded-btn shadow-none em-contrucao" data-toggle="collapse" href=".box-values" role="button" aria-expanded="true"> cancelar </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section style{
    <link href="~/content/css/custom.css" rel="stylesheet" />
    <script>
        if (location.protocol != 'https:') {
            location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
        }

        function inverte(obj) {
            document.getElementById('GrowthWeekPercent').style.display = 'none';
            document.getElementById('GrowthWeek').style.display = 'none';
            document.getElementById(obj).style.display = 'block';
        }
    </script>
}

@{
    var _comentarioscurtidas = Model.inf.Powerful; //Model.inf.MediaCurtidas+Model.inf.MediaComentarios;
    var valorTexto = @comentarioscurtidas.ToString();
}
@section Plugins{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.3.0/echarts.min.js"></script>
    <script src="~/content/js/config.js"></script>
    <script src="~/content/js/echartsInitCustom.js"></script>
}
@section scripts{

    <script>
        $(document).ready(function () {
            $('#btnMoreStories').on('click', function () {
                $('#btnMoreStories').css('display', 'none');
                $('#moreStories').css('display', 'flex');
            });

            $('#btnModalCliqueParaInfo').on('click', function () {
                $('#AjudaModal').appendTo("body").modal('show');
            });
        });

        var $nameLegend = ['Followers'];
        var $nameyAxis = 'Followers';
        var $dias = [@Html.Raw(@ViewBag.GrowthCategoria)];//['01/07', '02/07', '03/07', '04/07', '05/07', '06/07', '07/07', '08/07', '09/07', '10/07', '11/07', '12/07', '13/07', '14/07', '15/07', '16/07', '17/07', '18/07', '19/07', '20/07', '21/07', '22/07', '23/07', '24/07', '25/07', '26/07', '27/07', '28/07', '29/07', '30/07',];
        var $valores = [@Html.Raw(@ViewBag.GrowthData)];//[0, 11, 12, 12, 7, 10, 41, 23, 33, 11, 22, 12, 13, 9, 12, 12, 6, 7, 12, 15];
        var chartOption = {
            baseOption: {
                ///color: $colors,
                color: $colorsTheme,
                grid: {
                    show: false,
                    ///left: '8%',
                    right: '4%',
                    bottom: '8%',
                    containLabel: true
                },
                textStyle: {
                    fontFamily: 'Montserrat',
                    color: $colorsTheme[6],
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'line',
                        lineStyle: {
                            type: 'dashed',
                        },
                    },
                    ///enterable: true,
                    textStyle: {
                        color: $colorsTheme[6],
                    },
                },
                legend: {
                    data: $nameLegend,
                },

                xAxis: {
                    type: 'category',
                    scale: true,
                    axisLine: {
                        show: false,
                        ///symbolSize: [20,20],
                    },
                    axisTick: {
                        length: 20,
                        ///interval: 4,
                        lineStyle: {
                            color: 'rgba(255,255,255,.2)',
                            shadowOffsetY: 22
                        }
                    },
                    splitLine: {
                        show: false,
                    },
                    data: $dias,
                },
                yAxis: {
                    type: 'value',
                    name: $nameyAxis,
                    nameTextStyle: {
                        color: 'rgba(0,0,0,.45)',
                        fontSize: 20,
                    },
                    axisLine: {
                        show: false,
                    },
                    axisTick: {
                        show: false,
                    },
                    splitLine: {
                        lineStyle: {
                            color: $colorsTheme[8],
                            width: 2,
                        },
                    },
                },
                series: [{
                    data: $valores,
                    type: 'line',
                    symbolSize: 10,
                    label: {
                        show: true,
                        color: $colorsTheme[7],
                        fontWeight: '400',
                        fontSize: 14,
                        ///distance: 10,
                        textBorderColor: '#fff',
                        textBorderWidth: 4,
                    },
                    itemStyle: {
                        borderWidth: 2,
                    },
                    lineStyle: {
                        width: 4,
                    },
                }]
            },
            media: [ // each rule of media query is defined here
                {
                    option: {
                        grid: {
                            left: '4%',
                        },
                        tooltip: {
                            position: ['42.5%', 'top'],
                            confine: true,
                            axisPointer: {
                                ///type: 'line',
                                lineStyle: {
                                    color: $colorsTheme[8],
                                    opacity: 0.54,
                                },
                            },
                            formatter: '{c0} new followers<br /><small>{b0}</small>',
                            extraCssText: "font-size: 16px; background-color: #fff; box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.16); padding: 8px; font-weight: bolder; ",
                        },
                        xAxis: {
                            axisLabel: {
                                fontWeight: '400',
                                fontSize: 12,
                                interval: 'auto',
                            },
                            offset: 12,
                            axisTick: {
                                show: false,
                            }
                        },
                        yAxis: {
                            nameGap: 24,
                            nameLocation: 'end',
                            nameRotate: 0,
                            nameTextStyle: {
                                fontSize: 14,
                            },
                            axisLabel: {
                                fontSize: 12,
                            },
                            offset: 4,
                        },
                    }
                },
                { //// media 1200
                    query: { minWidth: 980 },   // write rule here
                    option: {       // write options accordingly
                        grid: {
                            left: '6%',
                        },
                        tooltip: {
                            position: 'top',
                            confine: false,
                            axisPointer: {
                                lineStyle: {
                                    color: $colorsTheme[0],
                                    ///opacity: 0.5,
                                },
                            },
                            formatter: '{c0} new followers<br /><small>{b0}</small>',
                            ///formatter: '{c0} new followers', /// nao sei se da pra colocar o texto para o top followers
                            extraCssText: "font-size: 18px; background-color: #fff; box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.16); padding: 8px; font-weight: bolder; margin: -5.5% 0 0 -7.5%",
                        },
                        xAxis: {
                            axisLabel: {
                                fontWeight: '500',
                                fontSize: 12,
                                interval: 1,
                            },
                            offset: 16,
                            axisTick: {
                                show: true,
                            }
                        },
                        yAxis: {
                            nameLocation: 'center',
                            nameRotate: 90,
                            nameGap: 48,
                            nameTextStyle: {
                                color: 'rgba(0,0,0,.74)',
                                fontSize: 18,
                            },
                            axisLabel: {
                                fontSize: 14,
                            },
                            offset: 6,
                        },
                    }
                },
                { //// media 1200 - o ajuste eh pelo container e não pela resolução
                    query: { minWidth: 1324 },   // write rule here
                    option: {       // write options accordingly
                        grid: {
                            left: '8%',
                        },
                        xAxis: {
                            axisLabel: {
                                fontSize: 16,
                            },
                        },
                        yAxis: {
                            nameGap: 64,
                            nameTextStyle: {
                                fontSize: 20,
                            },
                            axisLabel: {
                                fontSize: 16,
                            },
                            offset: 8,
                        },
                    }
                }
            ]
        };
        var growFollows = echarts.init(document.getElementById('containerGrowth'));
        growFollows.setOption(chartOption);
        $(function () {
            $(window).on('resize', resize);
            function resize() {
                setTimeout(function () {
                    growFollows.resize();
                }, 200);
            }
        });

        //var markers = [];
        //InitMarkers(markers);

	function getImage(url, id)
	{
		var html = "";
		if(url.indexOf("VIDEO.jpg") > -1) {
			id = id + ".MP4";
			url = url.replace('VIDEO.jpg', id);
			html = "<video id='vidStory' controls='' autoplay='' src='" + url + "' name='media' height='540px'><source type='video/mp4'></video>";

			$("#divPreviewStory").html(html);
			$("#story-modal").modal()

			$("#vidStory")[0].load();
		}else
		{
			var html="";
			html = "<img onerror=\"this.src='/images/no-photo-icon.jpg'\" id='imgStory' alt='' src='" + url + "' height='540px'>";

			$("#divPreviewStory").html(html);
			$("#story-modal").modal()
		}
    }
    </script>
}

