@model webMetrics.Models.Usuario
@{
    ViewData["Title"] = "Login";
    ViewData["Page"] = "Login";
    //Layout = "_LayoutManagement";
    Layout = "_LayoutM2";
    ViewBag.HideMenu = true;
}
<section class="fullscreen container-fluid double-login">
    <div class="container-1366">
        <header>
            <h2 class="h1 text-center font-black">Quem sou eu?</h2>
        </header>

        <div class="row">

            <div class="col-lg">
                <div class="card">
                    <div class="card-body">

                        <header class="card-title">
                            <h3 class="text-center font-black">
                                Influenciador
                            </h3>
                        </header>

                        <form asp-action="Cadastrar">
                            <div class="collapse log-influencer" id="#logInfluencer">
                                <p class="card-text">Efetue seu cadastro</p>
                                <input asp-for="TokenFacebook" class="form-control" type="hidden" />
                                <input asp-for="UserId" class="form-control" type="hidden" />
                                <input asp-for="Tipo" value="1" class="form-control" type="hidden" />

                                @*<a class="btn btn-facebook btn-round-square btn-text-big" href="">
                                        <i class="fab fa-facebook-square"></i> Continue com o facebook
                                    </a>*@
                                <div id="divBotaoFacebook" class="fb-login-button backcolor btn btn-text-big btn-block btn-purple btn-fb rounded text-left" width="100%"
                                     data-max-rows="1" data-size="large"
                                     data-button-type="continue_with"
                                     data-scope="email,instagram_basic,instagram_manage_insights,read_insights,manage_pages,instagram_manage_comments"
                                     data-show-faces="false" data-auto-logout-link="false"
                                     data-use-continue-as="true" onlogin="checkLoginState();"></div>

                                <input asp-for="UsuarioInstagram" class="form-control" type="hidden" />

                                <button id="btnForm" class="btn btn-light-blue btn-text-big limit-w" type="submit">
                                    continuar
                                </button>
                            </div>

                            <a id="btnInfluencer" class="btn btn-gray btn-text-big limit-w" data-toggle="collapse" href=".log-influencer" role="button" aria-expanded="false" aria-controls="logInfluencer">
                                Clique aqui
                            </a>
                        </form>
                    </div>

                </div>
            </div>

            <div class="col-lg">
                <div class="card">
                    <div class="card-body">

                        <header class="card-title">
                            <h3 class="text-center font-black">
                                Marca ou Agência
                            </h3>
                        </header>

                        <div class="collapse log-agency" id="#logAgency">
                            <p class="card-text">Efetue seu cadastro preenchendo o formulário abaixo:</p>

                            <form asp-action="Cadastrar">
                                <input asp-for="TokenFacebook" class="form-control" type="hidden" />
                                <input asp-for="UserId" class="form-control" type="hidden" />
                                <input asp-for="Tipo" value="2" class="form-control" type="hidden" />
                                <input asp-for="UsuarioInstagram" class="form-control" type="hidden" />
                                <div class="row">
                                    <div class="col-12">
                                        <!--
                                            para utilizar mensagens de erro, informações ou sucesso....
                                            basta colocar os textos dentre do [data-] correspondente e acrescentar as classes:

                                            form-info    - > informações
                                            form-success - > validado
                                            form-error   - > informações
                                            para funcionar precisa primeiro ter a classe [info-text]
                                        -->
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" name="NomeAgencia" id="NomeAgencia" required />
                                            <span class="bar"></span>
                                            <label>Nome da marca ou agência:</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" name="Nome" id="Nome" required />
                                            <span class="bar"></span>
                                            <label>Nome do responsável</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="Email" required />
                                            <span asp-validation-for="Email" class="bar"></span>
                                            <label>E-mail</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="password" name="senha" id="Senha" required />
                                            <span class="bar"></span>
                                            <label>Senha</label>
                                        </div>
                                    </div>
                                    @*<div class="col-12">
                                            <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                                <input type="password" name="senha" id="Senha" required />
                                                <span class="bar"></span>
                                                <label>Confirme a Senha</label>
                                            </div>
                                        </div>*@
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="Telefone" required />
                                            <span asp-validation-for="Telefone" class="bar"></span>
                                            <label>Telefone</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="PostalCode" required />
                                            <span asp-validation-for="PostalCode" class="bar"></span>
                                            <label>CEP</label>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="Street" required />
                                            <span asp-validation-for="Street" class="bar"></span>
                                            <label>Endereço</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="Number" required />
                                            <span asp-validation-for="Number" class="bar"></span>
                                            <label>Número</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="Complement" required />
                                            <span asp-validation-for="Complement" class="bar"></span>
                                            <label>Complemento</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="District" required />
                                            <span asp-validation-for="District" class="bar"></span>
                                            <label>Bairro</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <input type="text" asp-for="City" required />
                                            <span asp-validation-for="City" class="bar"></span>
                                            <label>Cidade</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <select class="custom-select">
                                                <!--- precisa existir caso não tenha nada selecionado -->
                                                <option class="first-label" disabled selected></option>
                                                <option value="AC">Acre</option>
                                                <option value="AL">Alagoas</option>
                                                <option value="AP">Amapa</option>
                                                <option value="AM">Amazonas</option>
                                                <option value="BA">Bahia</option>
                                                <option value="CE">Ceara</option>
                                                <option value="DF">Distrito Federal</option>
                                                <option value="ES">Espírito Santo</option>
                                                <option value="GO">Goiás</option>
                                                <option value="MA">MaranhÃ£o</option>
                                                <option value="MT">Mato Grosso</option>
                                                <option value="MS">Mato Grosso do Sul</option>
                                                <option value="MG">Minas Gerais</option>
                                                <option value="PA">Pará</option>
                                                <option value="PB">Paraí­ba</option>
                                                <option value="PR">Paraná</option>
                                                <option value="PE">Pernambuco</option>
                                                <option value="PI">Piauí</option>
                                                <option value="RJ">Rio de Janeiro</option>
                                                <option value="RN">Rio Grande do Norte</option>
                                                <option value="RS">Rio Grande do Sul</option>
                                                <option value="RO">Rondônia</option>
                                                <option value="RR">Roraima</option>
                                                <option value="SC">Santa Catarina</option>
                                                <option value="SP">São Paulo</option>
                                                <option value="SE">Sergipe</option>
                                                <option value="TO">Tocantins</option>
                                                <option value="ES">Estrangeiro</option>
                                            </select>
                                            <span class="bar"></span>
                                            <label>Estado</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="group material-form  info-text" data-info="Informações de preenchimento" data-success="Validado" data-error="Campo inválido">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="customControlAutosizing2">
                                                <label class="custom-control-label" for="customControlAutosizing2">Eu li e aceito os </label>
                                                <a class="link" title="Veja os Termos e Condições" href="https://www.influencersmetrics.com/termocondicoes.pdf">Termos e Condições</a>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <button id="btnAgency" class="btn btn-light-blue btn-text-big limit-w" type="submit">
                                    continuar
                                </button>
                            </form>


                        </div>

                        <a class="btn btn-gray btn-text-big limit-w" data-toggle="collapse" href=".log-agency" role="button" aria-expanded="false" aria-controls="logAgency">
                            Clique aqui
                        </a>


                    </div>
                </div>
            </div>

        </div>

    </div>
</section>

@section Style{
    <link href="~/content/plugins/scrollbars/jquery.mCustomScrollbar.css" rel="stylesheet" />
    <link href="~/content/css/custom.css" rel="stylesheet" />
    <link href="~/content/css/custom-adjusts.css" rel="stylesheet" />
}
@section Plugins{
    <script>
        var _userId = "";
        if (location.protocol != 'https:') {
            location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
        }
    </script>
    <script src="~/resources/assets/javascripts/consulta_cep.js"></script>
}
@*@section EspecificBodyScripts{*@
    @*<script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '220440968764019',
                cookie: true,
                xfbml: true,
                status: true,
                version: 'v3.1'
            });
            FB.AppEvents.logPageView();
            FB.Event.subscribe('auth.authResponseChange', function (response) {
                if (response.status === 'connected') {
                    //					checkLoginState();
                } else if (response.status === 'not_authorized') {
                    //					FB.login();
                } else {
                    //					FB.login();
                }
            });
        };
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/pt_Br/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
    <div id="fb-root"></div>*@
@*}*@
@section Scripts{
    <script>
        $(document).ready(function () {
            var SPMaskBehavior = function (val) {
                return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
            },
                spOptions = {
                    onKeyPress: function (val, e, field, options) {
                        field.mask(SPMaskBehavior.apply({}, arguments), options);
                    }
                };
        });
    </script>
    <script>
	function loadView()
	{
		document.getElementById('Nome').value = "";
		document.getElementById('Email').value = "";
		document.getElementById('Senha').value = "";
        document.getElementById('TokenFacebook').value = "";
		document.getElementById('UserId').value = "";
	}
    function checkLoginState() {
        FB.getLoginStatus(function (response) {
            statusChangeCallback(response);
        });
    }
    function statusChangeCallback(response) {
        if (response.status == "connected") {
			document.getElementById('UsuarioInstagram').value = "";
			document.getElementById('Email').value = "";
			document.getElementById('Senha').value = "";
            document.getElementById('TokenFacebook').value = response.authResponse.accessToken;
			document.getElementById('UserId').value = response.authResponse.userID;
			if (response.authResponse.email !=null)
			{
				document.getElementById('Email').value = response.authResponse.email;
			}else
			{
                //alert('Seu email no facebook não esta compartilhado.');
                //modalMsg('Seu email no facebook não esta compartilhado.');
			}
            document.getElementById("btnForm").click();
            //document.getElementById("divBotaoFacebook").style.display = "none";
            //alert('Preencher os dados abaixo.');
        }
    }
    loadView();
    @ViewBag.Executar;
    </script>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/5ca9005553f1e453fb8c767a/default';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
}